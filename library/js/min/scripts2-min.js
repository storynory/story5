function throttle(e,o,a){o||(o=250);var r,t;return function(){var n=a||this,i=+new Date,u=arguments;r&&r+o>i?(clearTimeout(t),t=setTimeout(function(){r=i,e.apply(n,u)},o)):(r=i,e.apply(n,u))}}var isTouch="ontouchstart"in window,eStart=isTouch?"touchstart":"mousedown",eMove=isTouch?"touchmove":"mousemove",eEnd=isTouch?"touchend":"mouseup";jQuery(function($){jQuery("false").on("click",function(){return!1}),jQuery(".side-open").on("click",function(){jQuery("#sidebar").css("left","0%"),jQuery(".wrap").addClass("lock")}),jQuery(".side-close, .overlay").on("click",function(){jQuery("#sidebar").css("left","-100%"),jQuery(".wrap").removeClass("lock")}),jQuery(".drop").on("click",function(){jQuery(this).hasClass("active")?(jQuery(".drop ul").removeClass("open"),jQuery(".drop").removeClass("active")):(jQuery(".drop").removeClass("active"),jQuery(this).addClass("active"),jQuery(".drop ul").removeClass("open"),jQuery("ul",this).addClass("open"))}),jQuery(".wrap").not(".drop").on("click",function(){jQuery(".drop ul").removeClass("open")});var e=["/wp-content/themes/story5/library/img/colin.svg","/wp-content/themes/story5/library/img/wicked-queen.svg","/wp-content/themes/story5/library/img/queen-frog.svg","/wp-content/themes/story5/library/img/frog-teacher.svg","/wp-content/themes/story5/library/img/tadpole.svg","/wp-content/themes/story5/library/img/sadie.svg","/wp-content/themes/story5/library/img/boris-human.svg","/wp-content/themes/story5/library/img/boris-frog.svg","/wp-content/themes/story5/library/img/duck.svg","/wp-content/themes/story5/library/img/freddie.svg","/wp-content/themes/story5/library/img/studious-tadpole.svg","/wp-content/themes/story5/library/img/bertie-young-man-b.png"];jQuery(".visible").CaptainFade({images:e}),jQuery(".bpn-current a").on("click",function(){return!1});var o={mp3:$("a.playPause").attr("href"),audio:new Audio,init:function(){return o.audio.src=o.mp3,o.audio.src},formatTime:function(e){var o;return e=Math.round(e),o=Math.floor(e/60),10>o&&(o="0"+o),e-=60*o,10>e&&(e="0"+e),o+":"+e},getDuration:function(e){var a;return a=o.formatTime(e.duration),$("span.duration").text(a)},update:function(e){var a;a=o.formatTime(e.currentTime),$("span.time").text(a)},updateSeekbar:function(e){var o;return o=e.currentTime/e.duration*100},moveHandle:function(e){var o,a;o=e.currentTime/e.duration*100,a=-1*(100-o),$(".progress__bar").css("left",a+"%")},scrubAudio:function(e,a){var r;o.playPause(e);var t=e.duration;r=a*t/100,e.currentTime=r,o.playPause(e)},playPause:function(e){return o.audio.paused?o.audio.play():o.audio.pause()}},a=function(e,o,a){var r,t,n=$(e).innerWidth(),i=$(e).innerHeight(),u=$(e).offset().left,s=$(e).offset().top;t=o-u,r=a-s;var c={x:t/n*100,y:r/i*100+"%"};return c};o.init(),$("a.playPause").on("click",function(){return $(this).toggleClass("pause"),o.playPause(o.audio),!1}),$(".progress").on("click",function(e){var r=a(this,e.pageX,e.pageY);console.log(r.x),o.scrubAudio(o.audio,r.x)}),$(".handle").on(eStart,function(){$(".progress").on(eMove,function(e){console.log(e);var r=a(this,e.pageX,e.pageY);console.log(r.x),o.scrubAudio(o.audio,r.x)})}),$(".handle").on(eEnd,function(){$(".progress").off(eMove)}),$(o.audio).bind("timeupdate",function(){o.update(o.audio),o.moveHandle(o.audio),o.getDuration(o.audio)}),$(o.audio).on("play",function(e){$("a.playPause").removeClass("play"),$("a.playPause").addClass("pause")}),$(o.audio).on("pause",function(e){$("a.playPause").removeClass("pause"),$("a.playPause").addClass("play")}),$(o.audio).on("progress",function(){}),$(o.audio).on("loadeddata",function(e){$("span.indicator").removeClass("loader")}),$(o.audio).on("loadedmetadata",function(e){o.getDuration(o.audio)})})(jQuery);
//# sourceMappingURL=./scripts2-min.map